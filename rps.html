<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>

    <body>
        <script>
            const rock = 0;
            const paper = 1;
            const scissors = 2;

            function computerPlay(){
                min = Math.ceil(0);
                max = Math.floor(3);
                com_response = Math.floor(Math.random() * (max - min)) + min;
                return com_response;
            }

            function playerSelection(response) {
                if(response.toLowerCase().localeCompare("rock") == 0 ){
                    return rock;
                } else if(response.toLowerCase().localeCompare("paper") == 0 ){
                    return paper;
                } else if(response.toLowerCase().localeCompare("scissors") == 0 ){
                    return scissors;
                }
            }

            function playRound(player_response, com_response){
                function translation(input) {
                    if(input == rock){
                        return "Rock";
                    }
                    if(input == paper){
                        return "Paper";
                    }
                    if(input == scissors){
                        return "Scissors";
                    }
                }
                if( (player_response == 0 && com_response == 2) || 
                    (player_response == 1 && com_response == 0) ||
                    (player_response == 2 && com_response == 1)){
                    console.log("You Win!\n"+
                    translation(player_response) + " beats " + translation(com_response));
                    return 1;
                } else if(player_response == com_response){
                    console.log("Tie Game");
                    return 0;
                } else{
                    console.log("You Lose.\n"+
                    translation(com_response) + " beats " + translation(player_response));
                    return -1;
                }
            }

            function game(games){
                score = 0;
                com_score = 0;
                for(i = 0; i < games; i++){
                    var com_response = computerPlay();
                    var player_prompt = prompt("Select Rock, Paper, or Scissors.");
                    var player_response = playerSelection(player_prompt);
                    if(playRound(player_response,com_response) == 1){
                        score++;
                    } else{
                        com_score++;
                    }
                }
                console.log('Score: ' + score);
                console.log('Computer Score: ' + com_score);
                if(score > com_score){
                    return "You won the series!";
                } else if(com_score > score){
                    return "You lost the series. Try Again.";
                } else{
                    return "Tied the Series. Try Again"
                }
            }
            
            console.log(game(5));

        </script>
    </body>
</html>